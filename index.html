<head>
<script type="text/javascript">

function calc()
{
 var s_Nicotine = document.getElementById('s_Nicotine').value;
 var s_PG = document.getElementById('s_PG').value;
 var s_VG = document.getElementById('s_VG').value;
 var s_Water = document.getElementById('s_Water').value;
 var s_V = document.getElementById('s_V').value;
 
 var w_Nicotine = document.getElementById('w_Nicotine').value;
 var w_PG = document.getElementById('w_PG').value;
 var w_VG = document.getElementById('w_VG').value;
 var w_Water = document.getElementById('w_Water').value;
 
 var zero_volume = document.getElementById('zero_volume').value;
 var final_volume = document.getElementById('final_volume').value;
 var add_PG = document.getElementById('add_PG').value;
 var add_VG = document.getElementById('add_VG').value;
 var add_Water = document.getElementById('add_Water').value;
 
 
 
 s_Nicotine = parseFloat(s_Nicotine);
 s_PG = parseFloat(s_PG);
 s_VG = parseFloat(s_VG);
 s_Water = parseFloat(s_Water);
 s_V = parseFloat(s_V);
 
 w_Nicotine = parseFloat(w_Nicotine);
 w_PG = parseFloat(w_PG);
 w_VG = parseFloat(w_VG);
 w_Water = parseFloat(w_Water);
 
 zero_volume = parseFloat(zero_volume);
 final_volume = parseFloat(final_volume);
 add_PG = parseFloat(add_PG);
 add_VG = parseFloat(add_VG);
 add_Water = parseFloat(add_Water);
 
 
 
 var k = s_Nicotine/w_Nicotine;
 final_volume = s_V+s_V*(k - 1);
 var one_pers = final_volume/100;
 var ml_PG = w_PG*one_pers;
 var ml_VG = w_VG*one_pers;
 var ml_Water = w_Water*one_pers;
 
 zero_volume = s_V*(k - 1);
 var one_pers_Source = s_V/100;
 var need_PG = s_PG*one_pers_Source;
 var need_VG = s_VG*one_pers_Source;
 var need_Water = s_Water*one_pers_Source;
 
 add_PG = ml_PG - need_PG;
 add_VG = ml_VG - need_VG;
 add_Water = ml_Water - need_Water;
 
 
 
 document.getElementById("zero_volume").value=zero_volume;
 document.getElementById("final_volume").value=final_volume;
 document.getElementById("add_PG").value=add_PG;
 document.getElementById("add_VG").value=add_VG;
 document.getElementById("add_Water").value=add_Water; 
}

 </script>
</head>

<body>
<form id="form1" name="form1" method="post" action="">

 <table class="tblCalc" cellpadding=0 cellspacing=0>
 <tr>
 <td><th>Source</th></td>
 <td><th>.</th></td>
 <td><th>Wanted</th></td>
 </tr>
 
 <tr>
 <td><th>Nicotine</th></td>
 <td>
 <input id="s_Nicotine" name="s_Nicotine" type="Text"
 size=28 value="36" width="250px">
 </td>
 
 <td><th>Nicotine</th></td>
 <td>
 <input id="w_Nicotine" name="w_Nicotine" type="Text"
 size=28 value="3" width="250px">
 </td>
 </tr>
 
 <tr>
 <td><th>PG</th></td>
 <td>
 <input id="s_PG" name="s_PG" type="Text"
 size=28 value="55" width="250px">
 </td>
 
 <td><th>PG</th></td>
 <td>
 <input id="w_PG" name="w_PG" type="Text"
 size=28 value="49" width="250px">
 </td>
 </tr>
 
 <tr>
 <td><th>VG</th></td>
 <td>
 <input id="s_VG" name="s_VG" type="Text"
 size=28 value="35" width="250px">
 </td>
 
 <td><th>VG</th></td>
 <td>
 <input id="w_VG" name="w_VG" type="Text"
 size=28 value="50" width="250px">
 </td>
 </tr>
 
 <tr>
 <td><th>Water</th></td>
 <td>
 <input id="s_Water" name="s_Water" type="Text"
 size=28 value="10" width="250px">
 </td>
 
 <td><th>Water</th></td>
 <td>
 <input id="w_Water" name="w_Water" type="Text"
 size=28 value="1" width="250px">
 </td>
 </tr>
 
 <tr>
 <td><th>Source "V" in wanted</th></td>
 <td>
 <input id="s_V" name="s_V" type="Text"
 size=28 value="1" width="250px">
 </td>
 <td><th>.</th></td>
 <td>
 <input name="btnCalc" type="Button"
 value="calc" onclick="calc()" />
 </td>
 
 </tr>
 </table>
 
 <table class="tblCalc" cellpadding=0 cellspacing=0>
 
 <tr>
 <td><th>Final volume</th></td>
 <td>
 <input id="final_volume" name="final_volume" type="Text"
 size=28 value="0" width="250px">
 </td>
 </tr>
 
 <tr>
 <td><th>Zero volume</th></td>
 <td>
 <input id="zero_volume" name="zero_volume" type="Text"
 size=28 value="0" width="250px">
 </td>
 </tr>
 
 </table>

 <table class="tblCalc" cellpadding=0 cellspacing=0>
 
 <tr>
 <td><th>Add to Source</th></td>
 </tr>
 
 <tr>
 <td><th>PG</th></td>
 <td>
 <input id="add_PG" name="add_PG" type="Text"
 size=28 value="0" width="250px">
 </td> 
 </tr>
 
 <tr>
 <td><th>VG</th></td>
 <td>
 <input id="add_VG" name="add_VG" type="Text"
 size=28 value="0" width="250px">
 </td>
 </tr>
 
 <tr>
 <td><th>Water</th></td>
 <td>
 <input id="add_Water" name="add_Water" type="Text"
 size=28 value="0" width="250px">
 </td>
 </tr>
 
 </table> 
 
</form>
</body>
